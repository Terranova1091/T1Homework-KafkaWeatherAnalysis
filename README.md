# Weather Kafka Microservices

## О проекте

Этот проект реализует систему микросервисов для генерации и анализа данных о погоде в различных городах с использованием Apache Kafka.

Маша — любительница путешествий — хочет получать актуальную информацию о погоде, чтобы выбирать направление поездки в текущий момент. Для этого:

- **WeatherProducer** генерирует случайные данные о погоде (температура, состояние, город, дата) и отправляет их в Kafka-топик.
- **WeatherConsumer** получает данные из Kafka, собирает статистику и выводит аналитику (например, количество дождливых дней, максимальную температуру и т.д.).

---

## Задачи проекта

1. **Продюсер (WeatherProducer):**
   - Генерирует случайные данные о погоде (температура от 0 до 35 °C, состояния: "солнечно", "облачно", "дождь", город, дата).
   - Отправляет сообщения в Kafka-топик (например, `weather-topic`).
   - Симулирует данные за неделю, где сутки сокращены до нескольких минут или секунд.

2. **Консюмер (WeatherConsumer):**
   - Подписывается на топик `weather-topic`.
   - Принимает сообщения и агрегирует данные.
   - Выводит аналитику, например:
     - Общая аналитика по городам.
     - Самая большая/низкая температура в городе x.

3. **Запуск и проверка:**
   - Запускается Kafka через Docker Compose.
   - Запускаются два Spring Boot сервиса — продюсер и консюмер.
   - Консюмер выводит результаты анализа в консоль.

---


## Инструкция по запуску

1. **Запустить Kafka через Docker Compose:**

```bash
docker-compose up -d
Запустить Spring Boot сервисы:

В двух отдельных терминалах выполнить команды:
./mvnw spring-boot:run -pl WeatherProducer
./mvnw spring-boot:run -pl WeatherConsumer

Или через кнопки в intellij idea

Просмотр аналитики:

Консюмер начнет выводить агрегированные данные о погоде в консоль.

Конфигурация
Kafka доступна по адресу: localhost:9090.

Продюсер и консюмер используют этот адрес для подключения.

Топик называется weather-topic.

Группа потребителей: weather-event.

Структура проекта
├── docker-compose.yml              # Конфигурация Kafka
├── WeatherModel                    # Вынесена модель сообщения
├── WeatherCollectionMicroservices  # Модуль продюсера, генерирует и отправляет данные
├── WeatherAnalyticsMicroservices   # Модуль консюмера, принимает и обрабатывает данные
└── README.md                       # Этот файл


Контакты
Если возникнут вопросы — обращайтесь https://t.me/DiabolusexArcaTabacaria.


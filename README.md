# Weather Kafka Microservices

## О проекте

Этот проект реализует систему микросервисов для генерации и анализа данных о погоде в различных городах с использованием Apache Kafka.

Маша — любительница путешествий — хочет получать актуальную информацию о погоде, чтобы выбирать направление поездки в текущий момент. Для этого:

- **WeatherProducer** генерирует случайные данные о погоде (температура, состояние, город, дата) и отправляет их в Kafka-топик.
- **WeatherConsumer** получает данные из Kafka, собирает статистику и выводит аналитику (например, количество дождливых дней, максимальную температуру и т.д.).

---

## Задачи проекта

1. **Продюсер (WeatherProducer):**
   - Генерирует случайные данные о погоде (температура от 0 до 35 °C, состояния: "солнечно", "облачно", "дождь", город, дата).
   - Отправляет сообщения в Kafka-топик (например, `weather-topic`).
   - Симулирует данные за неделю, где сутки сокращены до нескольких минут или секунд.

2. **Консюмер (WeatherConsumer):**
   - Подписывается на топик `weather-topic`.
   - Принимает сообщения и агрегирует данные.
   - Выводит аналитику, например:
     - Самое большое количество дождливых дней в городе за неделю.
     - Самая высокая температура и дата.
     - Самая низкая средняя температура.

3. **Запуск и проверка:**
   - Запускается Kafka через Docker Compose.
   - Запускаются два Spring Boot сервиса — продюсер и консюмер.
   - Консюмер выводит результаты анализа в консоль.

---

## Технологии

- Java 17  
- Spring Boot  
- Apache Kafka (KRaft mode)  
- Docker & Docker Compose

---

## Инструкция по запуску

1. **Запустить Kafka через Docker Compose:**

```bash
docker-compose up -d
Запустить Spring Boot сервисы:

В двух отдельных терминалах выполнить команды:

bash
Копировать
Редактировать
./mvnw spring-boot:run -pl WeatherProducer
./mvnw spring-boot:run -pl WeatherConsumer
Просмотр аналитики:

Консюмер начнет выводить агрегированные данные о погоде в консоль.

Конфигурация
Kafka доступна по адресу: kafka-1:9090 (внутри Docker-сети).

Продюсер и консюмер используют этот адрес для подключения.

Топик называется weather-topic.

Группа потребителей: weather-event.

Структура проекта
bash
Копировать
Редактировать
/
├── docker-compose.yml       # Конфигурация Kafka кластера
├── WeatherProducer          # Модуль продюсера, генерирует и отправляет данные
├── WeatherConsumer          # Модуль консюмера, принимает и обрабатывает данные
└── README.md                # Этот файл
Контакты
Если возникнут вопросы — обращайтесь.

